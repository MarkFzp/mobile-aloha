{
    "summary": "The code sets Aloha Mobile task parameters and constants, such as dataset directories, episode lengths, camera names, configurations for Elevator datasets with train ratios, weights, and multiple experiments like Chair and Shrimp. It also includes constants and functions for the shrimp experiment, covering gripper positions, joint limits, normalization/unnormalization, and master/puppet gripper positions.",
    "details": [
        {
            "comment": "This code defines task parameters for different tasks, including 'aloha_mobile_dummy', 'aloha_mobile_wash_pan', and 'aloha_mobile_wash_pan_cotrain'. Each task has its own dataset directory, episode length, camera names, and specific configuration like train ratio for the 'aloha_mobile_wash_pan_cotrain' task. These parameters are stored in the TASK_CONFIGS dictionary for later use in the codebase.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":0-30",
            "content": "### Task parameters\nimport pathlib\nimport os\nDATA_DIR = os.path.expanduser('~/data')\nTASK_CONFIGS = {\n    'aloha_mobile_dummy':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_dummy',\n        'episode_len': 1000,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    # wash_pan\n    'aloha_mobile_wash_pan':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_wash_pan',\n        'episode_len': 1100,\n        'train_ratio': 0.9,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_wash_pan_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_wash_pan',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_wash_pan',\n        ],\n        'sample_weights': [5, 5],\n        'train_ratio': 0.9, # ratio of train data from the first dataset_dir\n        'episode_len': 1100,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']"
        },
        {
            "comment": "This code defines a series of dictionaries, each representing a specific dataset for use in a machine learning algorithm. Each dataset includes information such as the directory location, episode length, training ratio, and camera names. The dictionaries differ in their structure with some including multiple directories or sample weights for cotraining purposes.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":31-57",
            "content": "    },\n    # wipe_wine\n    'aloha_mobile_wipe_wine':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_wipe_wine',\n        'episode_len': 1300,\n        'train_ratio': 0.9,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_wipe_wine_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_wipe_wine',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_wipe_wine',\n        ],\n        'sample_weights': [5, 5],\n        'train_ratio': 0.9, # ratio of train data from the first dataset_dir\n        'episode_len': 1300,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_wipe_wine_2':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_wipe_wine_2',\n        'episode_len': 1300,\n        'train_ratio': 0.9, # ratio of train data from the first dataset_dir\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']"
        },
        {
            "comment": "Code snippet defines constants for various datasets in the mobile-aloha project. Each constant consists of dataset directory, statistics directory, sample weights, train ratio, episode length, and camera names specific to a task (e.g., wine_2_cotrain, cabinet). The dataset directories are defined as lists with multiple options, but only the first one is used for validation.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":58-84",
            "content": "    },\n    'aloha_mobile_wipe_wine_2_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_wipe_wine_2',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_wipe_wine_2',\n        ],\n        'sample_weights': [5, 5],\n        'train_ratio': 0.9, # ratio of train data from the first dataset_dir\n        'episode_len': 1300,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    # cabinet\n    'aloha_mobile_cabinet':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_cabinet',\n            DATA_DIR + '/aloha_mobile_cabinet_handles', # 200\n            DATA_DIR + '/aloha_mobile_cabinet_grasp_pots', # 200\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_cabinet',\n        ],\n        'sample_weights': [6, 1, 1],\n        'train_ratio': 0.99, # ratio of train data from the first dataset_dir"
        },
        {
            "comment": "This code appears to be a configuration for various datasets used in the 'aloha_mobile' project. Each dataset is defined under a specific key and includes details like dataset directory, statistics directory (if any), sample weights, training ratio, episode length, and camera names. The code seems to handle multiple datasets with different configurations, suggesting that this could be part of a larger system for managing and utilizing various datasets in the project.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":85-111",
            "content": "        'episode_len': 1500,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_cabinet_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_cabinet',\n            DATA_DIR + '/aloha_mobile_cabinet_handles',\n            DATA_DIR + '/aloha_mobile_cabinet_grasp_pots',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_cabinet',\n        ],\n        'sample_weights': [6, 1, 1, 2],\n        'train_ratio': 0.99, # ratio of train data from the first dataset_dir\n        'episode_len': 1500,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    # elevator\n    'aloha_mobile_elevator':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_elevator',\n        'train_ratio': 0.99,\n        'episode_len': 8500,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_elevator_truncated':{"
        },
        {
            "comment": "This code defines two datasets for the Aloha Mobile Elevator model: 'aloha_mobile_elevator' and 'aloha_mobile_elevator_truncated_cotrain'. Both datasets include multiple dataset directories to be used for training, validation, and statistics. The code also specifies the sample weights, train ratio, and episode length for each dataset.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":112-134",
            "content": "        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_elevator_truncated',\n            DATA_DIR + '/aloha_mobile_elevator_2', # 1200\n            DATA_DIR + '/aloha_mobile_elevator_button', # 800\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_elevator_truncated',\n            DATA_DIR + '/aloha_mobile_elevator_2',\n        ],\n        'sample_weights': [3, 3, 2],\n        'train_ratio': 0.99, # ratio of train data from the first dataset_dir\n        'episode_len': 2250,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_elevator_truncated_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_elevator_truncated',\n            DATA_DIR + '/aloha_mobile_elevator_2',\n            DATA_DIR + '/aloha_mobile_elevator_button',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_elevator_truncated',"
        },
        {
            "comment": "The code contains a dictionary with various dataset configurations for different actions (e.g., 'aloha_mobile_elevator_2', 'aloha_mobile_high_five'). Each configuration has attributes like dataset_dir, train_ratio, episode_len, and camera_names. Some datasets are combined for training ('aloha_mobile_high_five_cotrain') with different weights for each dataset.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":135-161",
            "content": "            DATA_DIR + '/aloha_mobile_elevator_2',\n        ],\n        'sample_weights': [3, 3, 2, 1],\n        'train_ratio': 0.99, # ratio of train data from the first dataset_dir\n        'episode_len': 2250,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    # high_five\n    'aloha_mobile_high_five':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_high_five',\n        'train_ratio': 0.9,\n        'episode_len': 2000,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_high_five_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_high_five',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_high_five',\n        ],\n        'sample_weights': [7.5, 2.5],\n        'train_ratio': 0.9, # ratio of train data from the first dataset_dir\n        'episode_len': 2000,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']"
        },
        {
            "comment": "This code defines several dataset configurations for the Aloha mobile chair. Each configuration includes a unique identifier, directory path, train ratio, episode length, and camera names. The \"aloha_mobile_chair_truncated_cotrain\" configuration also includes multiple dataset directories and sample weights for cotraining purposes.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":162-189",
            "content": "    },\n    # chair\n    'aloha_mobile_chair':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_chair',\n        'train_ratio': 0.95,\n        'episode_len': 2400,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_chair_truncated':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_chair_truncated',\n        'train_ratio': 0.95,\n        'episode_len': 2000,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_chair_truncated_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_chair_truncated',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_chair_truncated',\n        ],\n        'sample_weights': [5, 5],\n        'train_ratio': 0.95, # ratio of train data from the first dataset_dir\n        'episode_len': 2000,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },"
        },
        {
            "comment": "This code defines three datasets for the Aloha Mobile Shrimp task. The 'aloha_mobile_shrimp' dataset is a full version with 4500 episode length, while 'aloha_mobile_shrimp_truncated' has 3750 episode length and shares some data from the first dataset for validation. Lastly, 'aloha_mobile_shrimp_truncated_cotrain' is a combination of two datasets, using only the first one for training with a 5:5 sample weight distribution.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":191-215",
            "content": "    # shrimp\n    'aloha_mobile_shrimp':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_shrimp',\n        'train_ratio': 0.99,\n        'episode_len': 4500,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_shrimp_truncated':{\n        'dataset_dir': DATA_DIR + '/aloha_mobile_shrimp_truncated',\n        'train_ratio': 0.99, # ratio of train data from the first dataset_dir\n        'episode_len': 3750,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    },\n    'aloha_mobile_shrimp_truncated_cotrain':{\n        'dataset_dir': [\n            DATA_DIR + '/aloha_mobile_shrimp_truncated',\n            DATA_DIR + '/aloha_compressed_dataset',\n        ], # only the first dataset_dir is used for val\n        'stats_dir': [\n            DATA_DIR + '/aloha_mobile_shrimp_truncated',\n        ],\n        'sample_weights': [5, 5],\n        'train_ratio': 0.99, # ratio of train data from the first dataset_dir\n        'episode_len': 3750,\n        'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']"
        },
        {
            "comment": "Code defines a dictionary of constants, including dataset paths and training parameters for ALOHA mobile shrimp experiment. DT and FPS are fixed at 0.02 and 50 respectively. JOINT_NAMES define the joints' positions in the model. START_ARM_POSE is the initial arm pose for the simulation. XML_DIR is an absolute path to assets directory.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":216-241",
            "content": "    },\n    # 'aloha_mobile_shrimp_2_cotrain':{\n    #     'dataset_dir': [\n    #         DATA_DIR + '/aloha_mobile_shrimp_2',\n    #         DATA_DIR + '/aloha_mobile_shrimp_before_spatula_down', # 2200\n    #         DATA_DIR + '/aloha_compressed_dataset',\n    #     ], # only the first dataset_dir is used for val\n    #     'stats_dir': [\n    #         DATA_DIR + '/aloha_mobile_shrimp_2',\n    #     ],\n    #     'sample_weights': [5, 3, 2],\n    #     'train_ratio': 0.99, # ratio of train data from the first dataset_dir\n    #     'episode_len': 4500,\n    #     'camera_names': ['cam_high', 'cam_left_wrist', 'cam_right_wrist']\n    # },\n}\n### ALOHA fixed constants\nDT = 0.02\nFPS = 50\nJOINT_NAMES = [\"waist\", \"shoulder\", \"elbow\", \"forearm_roll\", \"wrist_angle\", \"wrist_rotate\"]\nSTART_ARM_POSE = [0, -0.96, 1.16, 0, -0.3, 0, 0.02239, -0.02239,  0, -0.96, 1.16, 0, -0.3, 0, 0.02239, -0.02239]\nXML_DIR = str(pathlib.Path(__file__).parent.resolve()) + '/assets/' # note: absolute path\n# Left finger position limits (qpos[7]), right_finger = -1 * left_finger"
        },
        {
            "comment": "This code defines gripper positions and joint limits for two types of grippers. It also includes helper functions to normalize and unnormalize gripper positions, likely used in controlling the gripper movements based on normalized values.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":242-259",
            "content": "MASTER_GRIPPER_POSITION_OPEN = 0.02417\nMASTER_GRIPPER_POSITION_CLOSE = 0.01244\nPUPPET_GRIPPER_POSITION_OPEN = 0.05800\nPUPPET_GRIPPER_POSITION_CLOSE = 0.01844\n# Gripper joint limits (qpos[6])\nMASTER_GRIPPER_JOINT_OPEN = -0.8\nMASTER_GRIPPER_JOINT_CLOSE = -1.65\nPUPPET_GRIPPER_JOINT_OPEN = 1.4910\nPUPPET_GRIPPER_JOINT_CLOSE = -0.6213\n############################ Helper functions ############################\nMASTER_GRIPPER_POSITION_NORMALIZE_FN = lambda x: (x - MASTER_GRIPPER_POSITION_CLOSE) / (MASTER_GRIPPER_POSITION_OPEN - MASTER_GRIPPER_POSITION_CLOSE)\nPUPPET_GRIPPER_POSITION_NORMALIZE_FN = lambda x: (x - PUPPET_GRIPPER_POSITION_CLOSE) / (PUPPET_GRIPPER_POSITION_OPEN - PUPPET_GRIPPER_POSITION_CLOSE)\nMASTER_GRIPPER_POSITION_UNNORMALIZE_FN = lambda x: x * (MASTER_GRIPPER_POSITION_OPEN - MASTER_GRIPPER_POSITION_CLOSE) + MASTER_GRIPPER_POSITION_CLOSE\nPUPPET_GRIPPER_POSITION_UNNORMALIZE_FN = lambda x: x * (PUPPET_GRIPPER_POSITION_OPEN - PUPPET_GRIPPER_POSITION_CLOSE) + PUPPET_GRIPPER_POSITION_CLOSE\nMASTER2P"
        },
        {
            "comment": "This code defines various functions for normalization and unnormalization of gripper positions and velocities, as well as a function to convert master gripper position to puppet gripper position. It includes constants for gripper joints' open and close positions for both the master and puppet grippers.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":259-270",
            "content": "UPPET_POSITION_FN = lambda x: PUPPET_GRIPPER_POSITION_UNNORMALIZE_FN(MASTER_GRIPPER_POSITION_NORMALIZE_FN(x))\nMASTER_GRIPPER_JOINT_NORMALIZE_FN = lambda x: (x - MASTER_GRIPPER_JOINT_CLOSE) / (MASTER_GRIPPER_JOINT_OPEN - MASTER_GRIPPER_JOINT_CLOSE)\nPUPPET_GRIPPER_JOINT_NORMALIZE_FN = lambda x: (x - PUPPET_GRIPPER_JOINT_CLOSE) / (PUPPET_GRIPPER_JOINT_OPEN - PUPPET_GRIPPER_JOINT_CLOSE)\nMASTER_GRIPPER_JOINT_UNNORMALIZE_FN = lambda x: x * (MASTER_GRIPPER_JOINT_OPEN - MASTER_GRIPPER_JOINT_CLOSE) + MASTER_GRIPPER_JOINT_CLOSE\nPUPPET_GRIPPER_JOINT_UNNORMALIZE_FN = lambda x: x * (PUPPET_GRIPPER_JOINT_OPEN - PUPPET_GRIPPER_JOINT_CLOSE) + PUPPET_GRIPPER_JOINT_CLOSE\nMASTER2PUPPET_JOINT_FN = lambda x: PUPPET_GRIPPER_JOINT_UNNORMALIZE_FN(MASTER_GRIPPER_JOINT_NORMALIZE_FN(x))\nMASTER_GRIPPER_VELOCITY_NORMALIZE_FN = lambda x: x / (MASTER_GRIPPER_POSITION_OPEN - MASTER_GRIPPER_POSITION_CLOSE)\nPUPPET_GRIPPER_VELOCITY_NORMALIZE_FN = lambda x: x / (PUPPET_GRIPPER_POSITION_OPEN - PUPPET_GRIPPER_POSITION_CLOSE)\nMASTE"
        },
        {
            "comment": "This code defines functions for converting gripper positions to joint angles and vice versa for both master and puppet grippers. It uses normalization and unnormalization functions, as well as specific joint values for each gripper.",
            "location": "\"/media/root/Prima/works/mobile-aloha/docs/src/aloha_scripts/constants.py\":270-275",
            "content": "R_POS2JOINT = lambda x: MASTER_GRIPPER_POSITION_NORMALIZE_FN(x) * (MASTER_GRIPPER_JOINT_OPEN - MASTER_GRIPPER_JOINT_CLOSE) + MASTER_GRIPPER_JOINT_CLOSE\nMASTER_JOINT2POS = lambda x: MASTER_GRIPPER_POSITION_UNNORMALIZE_FN((x - MASTER_GRIPPER_JOINT_CLOSE) / (MASTER_GRIPPER_JOINT_OPEN - MASTER_GRIPPER_JOINT_CLOSE))\nPUPPET_POS2JOINT = lambda x: PUPPET_GRIPPER_POSITION_NORMALIZE_FN(x) * (PUPPET_GRIPPER_JOINT_OPEN - PUPPET_GRIPPER_JOINT_CLOSE) + PUPPET_GRIPPER_JOINT_CLOSE\nPUPPET_JOINT2POS = lambda x: PUPPET_GRIPPER_POSITION_UNNORMALIZE_FN((x - PUPPET_GRIPPER_JOINT_CLOSE) / (PUPPET_GRIPPER_JOINT_OPEN - PUPPET_GRIPPER_JOINT_CLOSE))\nMASTER_GRIPPER_JOINT_MID = (MASTER_GRIPPER_JOINT_OPEN + MASTER_GRIPPER_JOINT_CLOSE)/2"
        }
    ]
}